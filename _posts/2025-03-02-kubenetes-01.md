---
title: Minikube ì†Œê°œ
description: >-
  Kubernetesë¥¼ ìµíˆê¸° ìœ„í•œ ë„êµ¬
author: dgkim
date: 2025-03-02 08:26:00 +0900
categories: [í•™ìŠµ]
tags: [Kubernetes]
pin: false
media_subpath: '/assets/posts/20250302'
comments: true
---
# Kubernetes

## ê°œìš”
Kubernetesë¥¼ ì²˜ìŒ ì œëŒ€ë¡œ ë´¤ë˜ ê²ƒ ê°™ë‹¤. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ë¼ê³  í•˜ëŠ”ë° ì‚¬ì‹¤ ê·¸ê±´ ì˜ ì™€ë‹«ì§€ ì•Šì•˜ë‹¤. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì´ë¼ëŠ” ë§ì„ ì´í•´ë¥¼ ëª»í–ˆë˜ ê²ƒ ê°™ë‹¤.

ë‚˜ì˜ ë°©ì‹ëŒ€ë¡œ Kubernetesë¥¼ ì„¤ëª…í•˜ìë©´, ì—¬ëŸ¬ ì»´í“¨í„°ë¥¼ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ì„œë²„ë¡œ êµ¬ì¶•í•´ ë†“ì€ ìƒíƒœì—ì„œ Dockerì˜ Containerë¥¼ ìƒì„±í•´ì„œ ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆë„ë¡ ê´€ë ¨ëœ ëª¨ë“  í™˜ê²½ì„ ê´€ë¦¬í•´ ì£¼ëŠ” ë„êµ¬ì´ë‹¤. 

***ê´€ë¦¬ ë²”ìœ„ì— í¬í•¨ë˜ëŠ” ê²ƒ***
1. ë°°í¬ ìƒíƒœ
2. ë°°í¬ ë°©ì‹
3. ì»´í“¨í„°(ì„œë²„)
4. ë„¤íŠ¸ì›Œí¬
5. ì €ì¥ì†Œ
6. ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ ìœ„í•œ í™˜ê²½ë³€ìˆ˜
7. ìŠ¤ì¼€ì¼ë§
8. ëª¨ë‹ˆí„°ë§(ê°ì‹œ)


ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ì•¼ í•´ëŠ”ë° ëª‡ê°œì˜ êµ¬ì„±ìš”ì†Œ ì¦‰ frontend, backend, database ê°€ ìˆë‹¤ê³  í•œë‹¤ë©´ ê·¸ê²ƒë“¤ì— ëŒ€í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ ë°°í¬ê°€ ì™„ë£Œëœ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ê³ 
ë°°í¬ ë°©ì‹ì„ ì§€ì •í•œë‹¤ë©´

1. ê·¸ì— ë§ì¶° ê·¸ë£¹ì— ì†í•œ ì»´í“¨í„°ì— ë°°í¬í•˜ê³ , 
2. ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ì •í•´ì£¼ê³ ,
3. ì €ì¥ì†Œë¥¼ ì—°ê²°í•´ì£¼ë©°, 
4. ì–´í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì ìš©í•œ ì»¨í…Œì´ë„ˆë¥¼ ì˜¬ë ¤ì£¼ê³ , 
5. ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ë©° 
6. ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ëœë‹¤.

ë°°í¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí•œë‹¤ë©´ ì´ì „ ë²„ì ¼ì´ ê³„ì† ì‚´ì•„ì„œ ì„œë¹„ìŠ¤ê°€ ì§€ì†ë ìˆ˜ ìˆë„ë¡ í•œë‹¤. ë°°í¬ì— í•„ìš”í•œ ì‘ì—…ì„ ëŒ€ì‹ í•´ì£¼ëŠ” ê²ƒì´ë‹¤. 

ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì„ í•˜ê¸° ìœ„í•œ ì‚¬ì‹¤ìƒì˜ í‘œì¤€ì´ë‹¤.

***ì˜¤í•´***
1. KubernetesëŠ” í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ê°€ ì•„ë‹ˆë‹¤.
  - í´ë¼ìš°ë“œì—ì„œ ì§€ì›í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. aws, azure, ê·¸ë¦¬ê³  í´ë¼ìš°ë“œ í”„ë¡œë°”ì´ë”ê°€ ì—†ì–´ë„ ì§ì ‘ ì„¤ì¹˜í•˜ì—¬ ìš´ì˜ ê°€ëŠ¥í•˜ë‹¤.
2. KubernetesëŠ” íŠ¹ì • ì»´í“¨í„°ì—ì„œ ì‹¤í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì•„ë‹ˆë‹¤.
  - ê°œë…ê³¼ ë„êµ¬ ëª¨ìŒì´ë‹¤!
3. KubernetesëŠ” Dockerì˜ ëŒ€ì•ˆì´ ì•„ë‹ˆë‹¤.
  - ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ëŠ” ë„êµ¬ì´ë‹¤.

## Kubernetesì˜ í•µì‹¬ ê°œë…

***ë°°í¬ ì•„í‚¤í…ì²˜***
- ***POD***: PODëŠ” Kubernetesì—ì„œ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì´ë‹¤. PODëŠ” 1ê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•˜ë©° ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ì„ ì±…ì„ì§„ë‹¤.
- ***Worker Node***: 2ê°œ ì´ìƒì˜ POD ë³´ìœ í• ìˆ˜ ìˆê³ , PODë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•œë‹¤. NodeëŠ” ë‹¨ì¼ ì„œë²„ ì»´í“¨í„°ì´ë‹¤. AWSì—ì„œ Kubernetesë¥¼ ì˜¬ë¦¬ë©´ 2ê°œ ì´ìƒì˜ EC2ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ëœë‹¤. EC2ëŠ” AWSì˜ ê°€ìƒ ì»´í“¨í„°ì´ë‹¤. 
  - êµ¬ì„±ìš”ì†Œ
    - Docker: ì»¨í…Œì´ë„ˆ ê´€ë¦¬.
    - Kubelet: ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì›Œí¬ ë…¸ë“œì˜ í†µì‹  ë‹´ë‹¹.
    - Kube-proxy: PODì˜ íŠ¸ë˜í”½ ì²˜ë¦¬
- ***Master Node***: Worker Nodeì˜ ì œì–´ë¥¼ ì±…ì„ì§„ë‹¤. Control Planeë¥¼ í¬í•¨í•˜ê³  ìˆëŠ”ë°, ì´ê²ƒì€ ì›Œì»¤ë…¸ë“œì™€ ìƒí˜¸í•˜ì—¬ í¬ë“œë¥¼ ë™ì ìœ¼ë¡œ ì¶”ê°€,ì œê±°í•˜ëŠ” ì»¨íŠ¸ë¡¤ ì„¼í„°ì´ë‹¤.
  - êµ¬ì„±ìš”ì†Œ
    - API Server: Kubelet ì„œë¹„ìŠ¤ì— ëª…ë ¹ì„ ë‚´ë¦°ë‹¤.
    - Schedule: POD ìƒì„±ì„ ìœ„í•œ ì›Œí¬ë…¸ë“œë¥¼ ì„ íƒ
    - Kube-Controller-Manager: Worker Nodeì™€ PODë¥¼ ê°ì‹œ
      or Cloud-Controller-Manager: í´ë¼ìš°ë“œ í”„ë¡œë°”ì´ë”ì— ì˜í•´ ì œê³µë˜ëŠ” Kube-Controller-Manager
- ***Cluster***: Nodeë“¤ì„ ëª¨ë‘ í¬í•¨í•˜ëŠ” ê°œë…ì´ë‹¤.

ê·¸ì™¸ ì¤‘ìš”í•œ ê°œë…
- Container: Docker Containerì´ë‹¤.
- Services: PODì™€ Containerì— ë…ë¦½ì ì¸ IPì£¼ì†Œë¥¼ ê°€ì§„ POD ê·¸ë£¹ì´ë‹¤. íŠ¹ì • PODë¥¼ IPì£¼ì†Œë‚˜ ë„ë©”ì¸ìœ¼ë¡œ ì™¸ë¶€ì— ë…¸ì¶œí•œë‹¤.


## Kubernetesì—ì„œ ì•Œì•„ì•¼ í•  ê·¸ ì™¸ì˜ ê²ƒ
KubernetesëŠ” ì¸í”„ë¼ë¥¼ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„¤ì¹˜ì™€ ì„œë²„ ìœ ì§€ í™œë™ì€ ë³„ê°œì˜ ì˜ì—­ì´ë‹¤.

## ì‹¤ìŠµì„ ìœ„í•œ í™˜ê²½

***[Minikube](https://minikube.sigs.k8s.io/docs/start/?arch=%2Flinux%2Fx86-64%2Fstable%2Fdebian+package)***: ë¡œì»¬ì— ë”ë¯¸ í´ëŸ¬ìŠ¤í„°ë¥¼ ì„¤ì¹˜í•œë‹¤. Dockerì´ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ ê·¸ê²ƒì„ ê°€ìƒ í™˜ê²½ Driverë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

***[kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/)***: í´ëŸ¬ìŠ¤í„°ì— ëª…ë ¹ì„ ë³´ë‚´ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ë„êµ¬ ì´ë‹¤.

## Kubernetesì˜ ì£¼ìš” ê°ì²´
- Pod: Kubernetesê°€ ì•Œê³  ìˆëŠ” ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì´ë‹¤. PodëŠ” ì„ì‹œì ì´ê¸° ë•Œë¬¸ì— êµì²´ë˜ê±°ë‚˜, ì œê±°ë˜ë©´ Podì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì†Œì‹¤ ëœë‹¤. ë°ì´í„° ìœ ì§€ë¥¼ ìœ„í•´ì„œëŠ” ì¶”ê°€ì ì¸ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.
- Deployment: ë°°í¬ì˜ ìµœì¢… ìƒíƒœë¥¼ ì„¤ëª…í•œë‹¤. KubernetesëŠ” ì´ë¥¼ ëª©í‘œë¡œ ë‘ê³  ìƒíƒœë¥¼ ë³€ê²½í•´ ë‚˜ê°„ë‹¤.
- Service: Podì™€ Podì‚¬ì´ Podê°€ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì™€ì˜ í†µì‹ ì„ ìœ„í•œ ê°ì²´ì´ë‹¤. IPì£¼ì†Œë‚˜ ë„ë©”ì¸ì„ ê°€ì§€ê³  ìˆë‹¤.
- Volume: Podì™€ ë…ì§‘ì ìœ¼ë¡œ ì¡´ì¬í•˜ê³ , ìš”ì²­ì—ì˜í•´ Podì— í• ë‹¹ë  ìˆ˜ ìˆë‹¤. ì˜êµ¬ì €ì¥ì†Œ, ì„ì‹œì €ì¥ì†Œ ê°™ì€ ê°œë…ì´ ìˆë‹¤.
- Ingress: ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì„ Layer 7ì—ì„œ ë¶„ê¸°í•œë‹¤. httpì™€ https ê²½ë¡œë¥¼ ë…¸ì¶œí•˜ê³  ì£¼ì†Œì— ì˜í•œ ë¶„ê¸°ë¥¼ í• ìˆ˜ ìˆë‹¤.
> Serviceì—ëŠ” LoadBalancer íƒ€ì…ì´ ìˆë‹¤. ì´ê²ƒì€ Layer 4ì—ì„œ íŠ¸ë˜í”½ì„ ë¶„ê¸°í•œë‹¤.
- ê¸°íƒ€

## ë™ì‘í•´ë³´ê¸°

Kubernetesì— ëª…ë ¹ì„ ë‚´ë¦´ ë•Œ cliì— ì§ì ‘ ëª…ë ¹ì„ ë‚´ë¦´ ìˆ˜ë„ ìˆë‹¤. 
yml íŒŒì¼ì— ëª¨ë“  ë‚´ìš©ì„ ê¸°ìˆ í•˜ê³  ê·¸ íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ëª…ë ¹ì„ ë‚´ë¦´ ìˆ˜ë„ ìˆë‹¤.

Dockerë¡œ ë°°í¬í•  ëŒ€ìƒì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•œë‹¤. ì˜ˆì œ ë„ì»¤ íŒŒì¼...

``` Dockerfile
FROM node:lts-alpine

WORKDIR /usr/src/app

COPY ["package.json", "package-lock.json*", "npm-shrinkwrap.json*", "./"]

RUN npm install

COPY . .

EXPOSE 3000

RUN chown -R node /usr/src/app

USER node
CMD ["node", "./dist/app.js"]
```

ì´ë¯¸ì§€ ìƒì„±í•˜ê¸°.

``` bash
$ docker -t playground .
```

í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ì´ë¯¸ì§€ ê·¸ëƒ¥ ì°¸ì¡° í–ˆë˜ê²ƒ ê°™ì€ë°, ë¬¸ì œê°€ ìƒê²¨ì„œ docker hubì— ì˜¬ë ¤ë†“ê³  ë°›ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½í–ˆë‹¤.

``` bash
$ docker tag playground:latest bravecat81/playground:latest
$ docker push bravecat81/playground
```

minikube ì‹¤í–‰

``` bash
$ minikube start --driver=docker --extra-config=apiserver.authorization-mode=RBAC
ğŸ˜„  minikube v1.35.0 on Ubuntu 24.04
âœ¨  Using the docker driver based on existing profile
ğŸ‘  Starting "minikube" primary control-plane node in "minikube" cluster
ğŸšœ  Pulling base image v0.0.46 ...
ğŸƒ  Updating the running docker "minikube" container ...
ğŸ³  Preparing Kubernetes v1.32.0 on Docker 27.4.1 ...
    â–ª apiserver.authorization-mode=RBAC
ğŸ”—  Configuring bridge CNI (Container Networking Interface) ...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
ğŸ”  Verifying Kubernetes components...
    â–ª Using image docker.io/kubernetesui/dashboard:v2.7.0
    â–ª Using image docker.io/kubernetesui/metrics-scraper:v1.0.8
ğŸ’¡  Some dashboard features require the metrics-server addon. To enable all features please run:

	minikube addons enable metrics-server

ğŸŒŸ  Enabled addons: default-storageclass, storage-provisioner, dashboard
ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default
```

minikube ëŒ€ì‹œë³´ë“œ ì˜¬ë¦¬ê¸°

``` bash
$ minikube dashboard
```

ìƒˆë¡œìš´ deployment ìƒì„± 

``` bash
$ kubectl create deployment example-app --image=bravecat81/playground
deployment.apps/example-app created
```

pod í™•ì¸í•˜ê¸°.

``` bash
$ kubectl get pod
NAME                           READY   STATUS    RESTARTS   AGE
example-app-757f6dbccf-nhkrh   1/1     Running   0          36s
```
ë­”ê°€ ë§ì´ ì˜¬ë ¤ë‘ì—ˆì§€ë§Œ ë‹¤ë¥¸ ê²ƒë³´ë‹¤. `example-app-757f6dbccf-nhkrh`ì´ê²ƒì„ ë³´ë©´ í˜„ì¬ Running ìƒíƒœì´ë‹¤. 
Readyì˜ ìˆ˜ì¹˜ì¤‘ ì•ì˜ ìˆ«ìëŠ” í˜„ì¬ ì‹¤í–‰ë˜ëŠ” podì˜ ìˆ«ìì´ê³ , ë’¤ì˜ ìˆ«ìëŠ” ëª©í‘œ ìˆ«ìì´ë‹¤.

ì•„ì§ ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í•˜ì§€ ì•Šì•„ì„œ, ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì€ ë¶ˆê°€í•˜ë‹¤.

ìƒì„±ëœ deployment ì œê±°í•˜ê¸°.

``` bash
$ kubectl delete deployment example-app
deployment.apps "example-app" deleted
```

## ì£¼ìš” ëª…ë ¹ì–´
- minikube start: ë¯¸ë‹ˆì¿ ë² ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹œì‘í•œë‹¤. 
- minikube status: ë¯¸ë‹ˆì¿ ë² ì˜ í´ëŸ¬ìŠ¤í„°ê°€ êµ¬ë™ì¤‘ì¸ì§€ í™•ì¸í•œë‹¤.
- minikybe dashboard: ëŒ€ì‹œë³´ë“œ ì›¹ ì‚¬ì´íŠ¸ í™œì„±í™”
- kubectl create: ë­”ê°€ ê°ì²´ë¥¼ ë§Œë“ ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ deplymentë¥¼ ê°€ì¥ ë§ì´ ë§Œë“ ë‹¤.
- kubectl get: ê°ì²´ì˜ ìƒíƒœë¥¼ ê°€ì ¸ì˜¨ë‹¤.
- kubectl delete: ê°ì²´ë¥¼ ì‚­ì œí•œë‹¤.

[kubernetes ê³µì‹ ì‚¬ì´íŠ¸](https://kubernetes.io/ko/docs/home/)